# Оформление компонента в PHP 


## Пространства имён

Пространства имён в компонентах соответсвуют стандарту PSR4.   
Все части названия пространства имён должны быть описаны в нижнем регистре.   
Для совместимости с автозагрузчиком YII2 следует указать префикс **app**.   
Для придания компонентам структуры, в соответствии с моделью MVC, классы следует разделять на типы
и указать это в суффиксе пространства имён как **\\type**.   
В названиях пространств имён допустимы только латинские буквы и знак нижнего подчёркивания.

Общий вид:  
**namespace app\repo\vendor\project\type**;

* **app** - это неизменяемый префикс, 
* **\\repo** - название репозитория,
* **\\vendor** - это имя разработчика,
* **\\project** - это имя текущего компонента,
* **\\type** - это тип сущности

Доступные типы сущностей:
* models
* views
* controllers
* configs
* interfaces
* traits
* classes
* tests

Пример:  
**namespace app\components\rasmus_lerdorf\call_meta_transfer\models;**

*Дальнейшая иерархия пространств имён никак не регламентируется и может быть любой*

## Папки

Иерархия папок внутри проекта совподает с иерархией пространств имён от каталога components.  
Пространство имён отличается от иерархии папок только префиксом **app**.   
Все классы, имеющие совпадающую вложенность с пространством имён, могут быть автозагружены.  
Слова в названиях директорий разделются символом **_**. Так называемый *snake_case*.  

Общий вид:
* пространство имён **app\repo\vendor\project\type**
* иерархия директорий **repo\vendor\project\type**
* абсолюный путь **$DOCUMENT_ROOT\repo\vendor\project\type**

Пример абсолютного пути:    
**$DOCUMENT_ROOT\components\rasmus_lerdorf\delete_upload\models**

Пример относительного пути:    
**components\rasmus_lerdorf\api_key\controllers**

Пример иерархии папок в компоненте:
* components\rasmus_lerdorf\brand_new_calls\models
* components\rasmus_lerdorf\brand_new_calls\tests
* components\rasmus_lerdorf\brand_new_calls\configs
* components\rasmus_lerdorf\brand_new_calls\views


## Файлы

Классы должны состоять из не менее чем двух слов. Все первые буквы указываются в верхнем регистре.

Неуникальные названия классов в пределах репозитория недопустимы.

В названиях классов допустима только латиница. *Никаких цифр!*
   
В корне компонента могут находиться только файлы метаданных. Список допустимых файлов:
* readme.md
* composer.json
* version.txt
* package.json

Настройки компонент хранит в классах в папке **configs**.

Глобальные настройки компонент получает только из класса **SharedConfig**.

В компоненте должны содержаться только файлы классов PHP и файлы метаданных.

## Тесты

Каждый компонент должен содержать хотябы один тест в папке **tests**.

Все тесты на PHP производятся в соответствии с методами phpunit.

На содержание тестов ограничение не налагается.

Тест должен использовать хотябы один метод из компонента и запускаться при каждой проверке тестов.

## Советы по наименованию

Компонент следует называть по основной обслуживаемой задаче.

Например:
* api_key_processor
* dashboard_calls_page
* recycle_uploaded_images

Классы чаще всего наследуют свои имена от компонентов. Обычно классы разделяют задачу на семантические блоки
поэтому разумно называть классы по той части задачи, которую он выполняет.

Например:
* XMLWriter
* SettingsYandex
* QueryBuilder

Лучше всего не использовать наименования папок в названиях классов типа *class*, *trait*, *config*, также слова, 
которые присутствуют в определении сущностей *abstract*, *final*. 

